<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Plateforme Agr√©√©e - LRA Conseil</title>
    <style>
        /* === RESET & BASE === */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; line-height: 1.6; color: #2c3e50; background: #f8f9fa; }
        
        /* === CONTAINER === */
        .questionnaire-container { max-width: 800px; margin: 0 auto; padding: 20px; background: #ffffff; min-height: 100vh; }
        
        /* === LOGO === */
        .questionnaire-logo { text-align: center; margin-bottom: 30px; padding-top: 20px; }
        .questionnaire-logo img { max-width: 200px; height: auto; }
        
        /* === PROGRESS BAR === */
        .progress-bar-container { background: #e9ecef; height: 8px; border-radius: 10px; margin-bottom: 40px; overflow: hidden; }
        .progress-bar { background: linear-gradient(90deg, #0066cc 0%, #0099ff 100%); height: 100%; width: 0%; transition: width 0.4s ease; border-radius: 10px; }
        .progress-text { text-align: center; margin-top: 10px; color: #6c757d; font-size: 14px; }
        
        /* === SCREENS === */
        .screen { display: none; animation: fadeIn 0.5s ease; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* === TYPOGRAPHY === */
        .welcome-screen { text-align: center; padding: 40px 20px; }
        .welcome-screen h1 { font-size: 2.5em; color: #0066cc; margin-bottom: 20px; font-weight: 700; }
        .welcome-screen .subtitle { font-size: 1.2em; color: #6c757d; margin-bottom: 30px; }
        .section-title { font-size: 14px; text-transform: uppercase; color: #0066cc; font-weight: 600; letter-spacing: 1px; margin-bottom: 15px; }
        .question-title { font-size: 1.8em; color: #2c3e50; font-weight: 600; margin-bottom: 10px; }
        .question-description { color: #6c757d; font-size: 0.95em; }
        .question-header { margin-bottom: 30px; }
        .question-screen { padding: 20px; }

        /* === FEATURES === */
        .features { display: flex; justify-content: center; gap: 30px; margin: 40px 0; flex-wrap: wrap; }
        .feature-item { display: flex; align-items: center; gap: 10px; color: #495057; }
        .feature-item svg { width: 24px; height: 24px; color: #0066cc; }

        /* === FORMS === */
        .form-group { margin-bottom: 20px; }
        
        /* Radio & Checkbox Base */
        .radio-option, .checkbox-option { position: relative; padding: 18px 20px 18px 55px; border: 2px solid #e9ecef; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; background: #ffffff; display: block; margin-bottom: 12px; }
        .radio-option:hover, .checkbox-option:hover { border-color: #0066cc; background: #f8f9ff; }
        
        /* Inputs hidden */
        .radio-option input, .checkbox-option input { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; z-index: 2; opacity: 0; cursor: pointer; }
        
        /* Labels & Selected State */
        .radio-option label, .checkbox-option label { cursor: pointer; display: block; }
        .radio-option input:checked + label, .checkbox-option input:checked + label { color: #0066cc; font-weight: 600; }
        
        /* Custom UI Elements */
        .radio-custom, .checkbox-custom { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; border: 2px solid #ced4da; transition: all 0.3s ease; pointer-events: none; }
        .radio-custom { border-radius: 50%; }
        .checkbox-custom { border-radius: 4px; }
        
        .radio-option input:checked ~ .radio-custom, .checkbox-option input:checked ~ .checkbox-custom { border-color: #0066cc; background: #0066cc; }
        
        .radio-custom::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 8px; height: 8px; background: white; border-radius: 50%; opacity: 0; transition: opacity 0.3s ease; }
        .checkbox-custom::after { content: '‚úì'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 14px; opacity: 0; transition: opacity 0.3s ease; }
        
        .radio-option input:checked ~ .radio-custom::after, .checkbox-option input:checked ~ .checkbox-custom::after { opacity: 1; }

        /* Inputs Text & Select */
        input[type="text"], input[type="email"], input[type="tel"], input[type="number"], textarea, select { width: 100%; padding: 15px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 16px; transition: all 0.3s ease; background: white; }
        input:focus, textarea:focus, select:focus { border-color: #0066cc; outline: none; }
        textarea { min-height: 120px; resize: vertical; }
        .select-wrapper { position: relative; }
        
        /* Layout Grid */
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 600px) { .form-row { grid-template-columns: 1fr; } }
        
        .field-label { display: block; margin-bottom: 8px; color: #495057; font-weight: 500; }
        .required { color: #dc3545; }

        /* Sliders */
        .slider-container { padding: 20px 0; }
        .slider-value { text-align: center; font-size: 1.5em; color: #0066cc; font-weight: 600; margin-bottom: 20px; }
        input[type="range"] { width: 100%; height: 8px; border-radius: 10px; background: #e9ecef; outline: none; -webkit-appearance: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: #0066cc; cursor: pointer; box-shadow: 0 2px 8px rgba(0, 102, 204, 0.3); }
        .slider-labels { display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.85em; color: #6c757d; }

        /* Drag & Drop */
        .drag-list { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .drag-item { padding: 18px 20px; background: white; border: 2px solid #e9ecef; border-radius: 8px; cursor: grab; display: flex; align-items: center; gap: 15px; }
        .drag-item:active { cursor: grabbing; }
        .drag-item.dragging { opacity: 0.5; }
        .drag-number { font-weight: 700; color: #0066cc; font-size: 1.2em; min-width: 30px; }
        .drag-handle { color: #6c757d; font-size: 1.2em; }
        .drag-instructions { text-align: center; color: #6c757d; margin-bottom: 20px; font-style: italic; }

        /* Buttons */
        .button-group { display: flex; gap: 15px; margin-top: 40px; padding-top: 30px; border-top: 1px solid #e9ecef; }
        .btn { padding: 15px 30px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .btn-primary { background: #0066cc; color: white; flex: 1; }
        .btn-primary:hover { background: #0052a3; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3); }
        .btn-outline { background: transparent; border: 2px solid #e9ecef; color: #6c757d; }
        .btn-outline:hover { border-color: #0066cc; color: #0066cc; }

        /* Confirmation & Error */
        .confirmation-screen { text-align: center; padding: 60px 20px; }
        .success-icon { width: 80px; height: 80px; background: #28a745; border-radius: 50%; margin: 0 auto 30px; display: flex; align-items: center; justify-content: center; color: white; font-size: 40px; }
        .contact-box { background: #f8f9fa; padding: 30px; border-radius: 12px; margin: 40px 0; }
        .contact-info { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
        .error-message { background: #f8d7da; color: #721c24; padding: 12px 20px; border-radius: 8px; margin-top: 15px; display: none; }
        .error-message.show { display: block; animation: shake 0.5s ease; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }

        /* Loading */
        .loading-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); display: none; align-items: center; justify-content: center; z-index: 9999; }
        .loading-overlay.show { display: flex; }
        .loading-content { background: white; padding: 40px; border-radius: 12px; text-align: center; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #0066cc; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Mobile */
        @media (max-width: 768px) {
            .questionnaire-container { padding: 15px; }
            .button-group { flex-direction: column; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="questionnaire-container">
        <div class="questionnaire-logo">
            <img src="https://annuaire.lafrenchtech-lareunion.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsiZGF0YSI6IjgzMzc2YzAwLWI1YzgtNDA1Zi04MDRiLTQ5Mzk3NTBlM2Q0MSIsInB1ciI6ImJsb2JfaWQifX0=--edff6678797a5a54421179b87c04f820765d0e63/eyJfcmFpbHMiOnsiZGF0YSI6eyJmb3JtYXQiOiJ3ZWJwIiwicmVzaXplIjoiMTAwMFx1MDAzZSIsInF1YWxpdHkiOjcwfSwicHVyIjoidmFyaWF0aW9uIn19--ed6aaaa9d4332c6b8d55d8fb584e771a788269f2/Logo-JPG-haute-qualite.jpg" alt="LRA Conseil">
        </div>

        <div class="progress-bar-container" id="progressBar" style="display: none;">
            <div class="progress-bar" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText" style="display: none;"></div>

        <div class="screen active" id="screen-0">
            <div class="welcome-screen">
                <h1>Trouvez votre Plateforme Agr√©√©e id√©ale<br>en 5 minutes</h1>
                <p class="subtitle">Ce questionnaire personnalis√© vous aidera √† identifier les solutions de facturation √©lectronique les plus adapt√©es √† votre entreprise.</p>
                <div class="features">
                    <div class="feature-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><span>5-8 minutes</span></div>
                    <div class="feature-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg><span>Donn√©es confidentielles</span></div>
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="goToScreen(1)">Commencer</button>
                </div>
            </div>
        </div>

        <div class="screen" id="screen-1">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Quelle est la taille de votre entreprise ?</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q1_1" value="Micro-entreprise" id="q1_1_1"><label for="q1_1_1">Micro-entreprise (0 salari√©)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_1" value="TPE" id="q1_1_2"><label for="q1_1_2">TPE (1-9 salari√©s)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_1" value="PME" id="q1_1_3"><label for="q1_1_3">PME (10-249 salari√©s)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_1" value="ETI" id="q1_1_4"><label for="q1_1_4">ETI (250-4999 salari√©s)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_1" value="Grande entreprise" id="q1_1_5"><label for="q1_1_5">Grande entreprise (5000+ salari√©s)</label><span class="radio-custom"></span></div>
                </div>
                <div class="error-message" id="error-1"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(0)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(1, 2)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-2">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Quel est votre secteur d'activit√© ?</h2></div>
                <div class="form-group"><div class="select-wrapper">
                    <select name="q1_2" id="q1_2">
                        <option value="">-- S√©lectionnez votre secteur --</option>
                        <option value="Commerce de d√©tail">Commerce de d√©tail</option><option value="E-commerce">E-commerce</option><option value="Services B2B">Services B2B</option><option value="BTP / Construction">BTP / Construction</option><option value="Sant√© / M√©dical">Sant√© / M√©dical</option><option value="Restauration / H√¥tellerie">Restauration / H√¥tellerie</option><option value="Industrie / Manufacturing">Industrie / Manufacturing</option><option value="Conseil / Expertise">Conseil / Expertise</option><option value="Transport / Logistique">Transport / Logistique</option><option value="Immobilier">Immobilier</option><option value="Agriculture">Agriculture</option><option value="Tech / Digital">Tech / Digital</option><option value="Finance / Assurance">Finance / Assurance</option><option value="Formation / √âducation">Formation / √âducation</option><option value="Autre">Autre</option>
                    </select>
                </div></div>
                <div class="error-message" id="error-2"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(1)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(2, 3)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-3">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Vos clients sont principalement :</h2><p class="question-description">S√©lectionnez toutes les r√©ponses qui s'appliquent</p></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q1_3" value="B2B" id="q1_3_1"><label for="q1_3_1">B2B (entreprises)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q1_3" value="B2C" id="q1_3_2"><label for="q1_3_2">B2C (particuliers)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q1_3" value="B2G" id="q1_3_3"><label for="q1_3_3">B2G (administrations publiques)</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="error-message" id="error-3"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(2)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(3, 4)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-4">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Quelle est la nature de vos prestations ?</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q1_4" value="Livraison de biens" id="q1_4_1"><label for="q1_4_1">Livraison de biens</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_4" value="Prestations de services" id="q1_4_2"><label for="q1_4_2">Prestations de services</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_4" value="Mixte" id="q1_4_3"><label for="q1_4_3">Mixte (biens et services)</label><span class="radio-custom"></span></div>
                </div>
                <div class="error-message" id="error-4"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(3)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(4, 5)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-5">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Domiciliation de vos clients</h2><p class="question-description">Indiquez la r√©partition approximative (en %)</p></div>
                <div class="form-group"><label class="field-label">France : <span id="france_value">80</span>%</label><input type="range" name="q1_5_france" id="q1_5_france" min="0" max="100" value="80" step="5" oninput="updateDomiciliation()"></div>
                <div class="form-group"><label class="field-label">Union Europ√©enne : <span id="ue_value">15</span>%</label><input type="range" name="q1_5_ue" id="q1_5_ue" min="0" max="100" value="15" step="5" oninput="updateDomiciliation()"></div>
                <div class="form-group"><label class="field-label">Hors UE : <span id="hors_ue_value">5</span>%</label><input type="range" name="q1_5_hors_ue" id="q1_5_hors_ue" min="0" max="100" value="5" step="5" oninput="updateDomiciliation()"></div>
                <div id="total_domiciliation" style="text-align: center; margin-top: 20px; color: #6c757d;">Total : <strong><span id="total_value">100</span>%</strong></div>
                <div class="error-message" id="error-5"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(4)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(5, 6)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-6">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 1 : Profil entreprise</div><h2 class="question-title">Travaillez-vous avec un expert-comptable ?</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q1_6" value="Oui, en cabinet externe" id="q1_6_1" onchange="toggleExpertComptable()"><label for="q1_6_1">Oui, en cabinet externe</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_6" value="Oui, en cabinet en ligne" id="q1_6_2" onchange="toggleExpertComptable()"><label for="q1_6_2">Oui, en cabinet en ligne</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_6" value="Oui, en interne" id="q1_6_3" onchange="toggleExpertComptable()"><label for="q1_6_3">Oui, en interne</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q1_6" value="Non" id="q1_6_4" onchange="toggleExpertComptable()"><label for="q1_6_4">Non</label><span class="radio-custom"></span></div>
                </div>
                <div id="q1_6b_container" style="display: none; margin-top: 30px;">
                    <h3 style="font-size: 1.2em; margin-bottom: 15px; color: #495057;">Quel logiciel utilise votre expert-comptable ?</h3>
                    <div class="form-group"><div class="select-wrapper"><select name="q1_6b" id="q1_6b"><option value="">-- S√©lectionnez un logiciel --</option><option value="Cegid">Cegid</option><option value="Sage">Sage</option><option value="ACD">ACD</option><option value="EBP">EBP</option><option value="QuadraExpert">QuadraExpert</option><option value="Isacompta">Isacompta</option><option value="MyUnisoft">MyUnisoft</option><option value="Pennylane">Pennylane</option><option value="Je ne sais pas">Je ne sais pas</option><option value="Autre">Autre</option></select></div></div>
                </div>
                <div id="q1_6c_container" style="display: none; margin-top: 30px;">
                    <h3 style="font-size: 1.2em; margin-bottom: 15px; color: #495057;">H√©bergement du logiciel comptable ?</h3>
                    <div class="radio-group"><div class="radio-option"><input type="radio" name="q1_6c" value="SaaS (cloud)" id="q1_6c_1"><label for="q1_6c_1">SaaS (cloud / en ligne)</label><span class="radio-custom"></span></div><div class="radio-option"><input type="radio" name="q1_6c" value="On-premise (serveur local)" id="q1_6c_2"><label for="q1_6c_2">On-premise (serveur local)</label><span class="radio-custom"></span></div><div class="radio-option"><input type="radio" name="q1_6c" value="Je ne sais pas" id="q1_6c_3"><label for="q1_6c_3">Je ne sais pas</label><span class="radio-custom"></span></div></div>
                </div>
                <div class="error-message" id="error-6"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(5)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(6, 7)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-7">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 2 : Volume & Processus</div><h2 class="question-title">Combien de factures CLIENTS √©mettez-vous par mois ?</h2></div>
                <div class="slider-container"><div class="slider-value" id="q2_1_value">50 factures/mois</div><input type="range" name="q2_1" id="q2_1" min="0" max="6" value="2" step="1" oninput="updateSliderValue('q2_1')"><div class="slider-labels"><span>0-10</span><span>11-50</span><span>51-250</span><span>251-1000</span><span>1000-5000</span><span>5000+</span></div></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(6)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(7, 8)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-8">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 2 : Volume & Processus</div><h2 class="question-title">Actuellement, comment cr√©ez-vous vos factures ?</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q2_2" value="Manuellement (Word, Excel)" id="q2_2_1" onchange="toggleLogicielField()"><label for="q2_2_1">Manuellement (Word, Excel)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_2" value="Logiciel de facturation d√©di√©" id="q2_2_2" onchange="toggleLogicielField()"><label for="q2_2_2">Logiciel de facturation d√©di√©</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_2" value="Logiciel comptable" id="q2_2_3" onchange="toggleLogicielField()"><label for="q2_2_3">Logiciel comptable</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_2" value="ERP" id="q2_2_4" onchange="toggleLogicielField()"><label for="q2_2_4">ERP</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_2" value="Autre" id="q2_2_5" onchange="toggleLogicielField()"><label for="q2_2_5">Autre</label><span class="checkbox-custom"></span></label>
                </div>
                <div id="q2_2b_container" style="display: none; margin-top: 30px;"><h3 style="font-size: 1.2em; margin-bottom: 15px; color: #495057;">Quel(s) outil(s) utilisez-vous ?</h3><div class="form-group"><input type="text" name="q2_2b" id="q2_2b" placeholder="Nom du logiciel ou ERP"></div></div>
                <div class="error-message" id="error-8"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(7)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(8, 9)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-9">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 2 : Volume & Processus</div><h2 class="question-title">Comment souhaitez-vous √©mettre vos factures ?</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q2_3" value="Interface de saisie directe" id="q2_3_1"><label for="q2_3_1">Interface de saisie directe</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_3" value="Import PDF" id="q2_3_2"><label for="q2_3_2">Import de PDF existants</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_3" value="Depuis logiciel existant" id="q2_3_3"><label for="q2_3_3">G√©n√©ration depuis mon logiciel actuel (API)</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="error-message" id="error-9"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(8)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(9, 10)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-10">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 2 : Volume & Processus</div><h2 class="question-title">Combien de factures fournisseurs recevez-vous par mois ?</h2></div>
                <div class="slider-container"><div class="slider-value" id="q2_4_value">50 factures/mois</div><input type="range" name="q2_4" id="q2_4" min="0" max="6" value="2" step="1" oninput="updateSliderValue('q2_4')"><div class="slider-labels"><span>0-10</span><span>11-50</span><span>51-250</span><span>251-1000</span><span>1000-5000</span><span>5000+</span></div></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(9)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(10, 11)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-11">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 2 : Volume & Processus</div><h2 class="question-title">Sous quel format recevez-vous vos factures fournisseurs ?</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q2_5" value="Papier (courrier)" id="q2_5_1"><label for="q2_5_1">Papier (courrier)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_5" value="PDF par email" id="q2_5_2"><label for="q2_5_2">PDF par email</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_5" value="Electronique structur√©" id="q2_5_3"><label for="q2_5_3">D√©j√† en format √©lectronique structur√©</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q2_5" value="Portail fournisseur" id="q2_5_4"><label for="q2_5_4">Portail fournisseur</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="error-message" id="error-11"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(10)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(11, 12)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-12">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 3 : Priorit√©s</div><h2 class="question-title">Classez vos priorit√©s par ordre d'importance</h2><p class="question-description">Glissez-d√©posez les √©l√©ments pour les r√©organiser</p></div>
                <div class="drag-drop-container">
                    <div class="drag-instructions">üëÜ Glissez les cartes pour les r√©organiser</div>
                    <div class="drag-list" id="dragList">
                        <div class="drag-item" draggable="true" data-value="Facilit√© d'utilisation"><span class="drag-number">1</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">Facilit√© d'utilisation</span></div>
                        <div class="drag-item" draggable="true" data-value="Prix / Rapport qualit√©-prix"><span class="drag-number">2</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">Prix / Rapport qualit√©-prix</span></div>
                        <div class="drag-item" draggable="true" data-value="Support client r√©actif"><span class="drag-number">3</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">Support client r√©actif</span></div>
                        <div class="drag-item" draggable="true" data-value="Int√©grations"><span class="drag-number">4</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">Int√©grations avec mes outils actuels</span></div>
                        <div class="drag-item" draggable="true" data-value="Fonctionnalit√©s avanc√©es"><span class="drag-number">5</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">Fonctionnalit√©s avanc√©es</span></div>
                        <div class="drag-item" draggable="true" data-value="S√©curit√© des donn√©es"><span class="drag-number">6</span><span class="drag-handle">‚ãÆ‚ãÆ</span><span class="drag-label">S√©curit√© des donn√©es</span></div>
                    </div>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(11)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(12, 13)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-13">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 3 : Priorit√©s</div><h2 class="question-title">Quel est votre budget mensuel estim√© ?</h2></div>
                <div class="slider-container"><div class="slider-value" id="q3_2_value">100-300 ‚Ç¨/mois</div><input type="range" name="q3_2" id="q3_2" min="0" max="4" value="2" step="1" oninput="updateBudgetValue()"><div class="slider-labels"><span>0-20‚Ç¨</span><span>20-100‚Ç¨</span><span>100-300‚Ç¨</span><span>300-1000‚Ç¨</span><span>1000‚Ç¨+</span></div></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(12)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(13, 14)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-14">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 3 : Priorit√©s</div><h2 class="question-title">Pr√©f√©rence de mod√®le tarifaire</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q3_3" value="Abonnement mensuel fixe" id="q3_3_1"><label for="q3_3_1">Abonnement mensuel fixe (pr√©visibilit√©)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q3_3" value="Tarif au volume" id="q3_3_2"><label for="q3_3_2">Tarif au volume (payez ce que vous utilisez)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q3_3" value="Mixte" id="q3_3_3"><label for="q3_3_3">Mixte (abonnement + co√ªt par facture)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q3_3" value="Peu importe" id="q3_3_4"><label for="q3_3_4">Peu importe</label><span class="radio-custom"></span></div>
                </div>
                <div class="error-message" id="error-14"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(13)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(14, 15)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-15">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 4 : Besoins fonctionnels</div><h2 class="question-title">Fonctionnalit√©s √âMISSION importantes</h2></div>
                <div class="checkbox-category"><div class="checkbox-category-title">FACTURATION DE BASE</div><div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Cr√©ation de devis" id="q4_1_1"><label for="q4_1_1">Cr√©ation de devis</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Conversion devis > facture" id="q4_1_2"><label for="q4_1_2">Conversion devis ‚Üí facture</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Factures d'acompte" id="q4_1_3"><label for="q4_1_3">Factures d'acompte</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Avoirs" id="q4_1_4"><label for="q4_1_4">Avoirs (remboursements)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Factures r√©currentes" id="q4_1_5"><label for="q4_1_5">Factures r√©currentes / abonnements</label><span class="checkbox-custom"></span></label>
                </div></div>
                <div class="checkbox-category"><div class="checkbox-category-title">GESTION COMMERCIALE</div><div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Catalogue produits" id="q4_1_6"><label for="q4_1_6">Catalogue produits/services</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Grilles tarifaires" id="q4_1_7"><label for="q4_1_7">Grilles tarifaires multiples</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Gestion des remises" id="q4_1_8"><label for="q4_1_8">Gestion des remises</label><span class="checkbox-custom"></span></label>
                </div></div>
                <div class="checkbox-category"><div class="checkbox-category-title">AUTOMATISATION & AUTRES</div><div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Relances auto" id="q4_1_9"><label for="q4_1_9">Relances clients automatiques</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Suivi impay√©s" id="q4_1_10"><label for="q4_1_10">Suivi des impay√©s</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Portail client" id="q4_1_11"><label for="q4_1_11">Portail client en ligne</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Multi-devises" id="q4_1_12"><label for="q4_1_12">Multi-devises</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_1" value="Multi-soci√©t√©s" id="q4_1_13"><label for="q4_1_13">Multi-soci√©t√©s</label><span class="checkbox-custom"></span></label>
                </div></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(14)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(15, 16)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-16">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 4 : Besoins fonctionnels</div><h2 class="question-title">Fonctionnalit√©s R√âCEPTION importantes</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="OCR automatique" id="q4_2_1"><label for="q4_2_1">OCR automatique (lecture des PDF)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="Circuit validation" id="q4_2_2"><label for="q4_2_2">Validation multi-niveaux (circuit d'approbation)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="Rapprochement commande" id="q4_2_3"><label for="q4_2_3">Rapprochement avec bons de commande</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="Gestion litiges" id="q4_2_4"><label for="q4_2_4">Gestion des litiges fournisseurs</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="Portail fournisseur" id="q4_2_5"><label for="q4_2_5">Portail fournisseur d√©di√©</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_2" value="Rien de sp√©cifique" id="q4_2_6"><label for="q4_2_6">Aucune fonctionnalit√© avanc√©e n√©cessaire</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(15)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(16, 17)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-17">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 4 : Besoins fonctionnels</div><h2 class="question-title">Tr√©sorerie et paiements</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Connexion bancaire" id="q4_3_1"><label for="q4_3_1">Connexion bancaire (rapprochement auto)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Suivi tr√©sorerie temps r√©el" id="q4_3_2"><label for="q4_3_2">Suivi de tr√©sorerie en temps r√©el</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Pr√©l√®vement SEPA" id="q4_3_3"><label for="q4_3_3">Pr√©l√®vement SEPA</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Virements fournisseurs" id="q4_3_4"><label for="q4_3_4">Gestion des paiements (virements SEPA)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Paiement ligne CB" id="q4_3_5"><label for="q4_3_5">Paiement en ligne (CB)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Pr√©visionnel tr√©sorerie" id="q4_3_6"><label for="q4_3_6">Pr√©visionnel de tr√©sorerie</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_3" value="Pas n√©cessaire" id="q4_3_7"><label for="q4_3_7">Non, pas n√©cessaire pour le moment</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(16)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(17, 18)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-18">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 4 : Besoins fonctionnels</div><h2 class="question-title">Reporting et analyses</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q4_4" value="Basique" id="q4_4_1"><label for="q4_4_1">Tableaux de bord basiques suffisent</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q4_4" value="D√©taill√©" id="q4_4_2"><label for="q4_4_2">Reporting d√©taill√© n√©cessaire (marges, etc.)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q4_4" value="Avanc√©" id="q4_4_3"><label for="q4_4_3">Analytics avanc√©s indispensables</label><span class="radio-custom"></span></div>
                </div>
                <div class="error-message" id="error-18"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(17)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(18, 19)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-19">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 4 : Besoins fonctionnels</div><h2 class="question-title">Int√©grations techniques</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="API ERP" id="q4_5_1"><label for="q4_5_1">API / Web services (connexion ERP)</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="Export comptable" id="q4_5_2"><label for="q4_5_2">Export comptable automatique</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="CRM" id="q4_5_3"><label for="q4_5_3">Connexion avec CRM</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="Caisse" id="q4_5_4"><label for="q4_5_4">Connexion avec logiciel de caisse</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="CSV/Excel" id="q4_5_5"><label for="q4_5_5">Import/export CSV/Excel</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q4_5" value="Aucune" id="q4_5_6"><label for="q4_5_6">Aucune int√©gration particuli√®re</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(18)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(19, 20)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-20">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 5 : Crit√®res techniques</div><h2 class="question-title">Quel type de support souhaitez-vous ?</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="T√©l√©phone d√©di√©" id="q5_1_1"><label for="q5_1_1">T√©l√©phone d√©di√©</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="Ticket 24h" id="q5_1_2"><label for="q5_1_2">Ticket avec r√©ponse garantie sous 24h</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="Chat direct" id="q5_1_3"><label for="q5_1_3">Chat en direct</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="Chatbot/FAQ" id="q5_1_4"><label for="q5_1_4">Chatbot / FAQ d√©taill√©e</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="Email" id="q5_1_5"><label for="q5_1_5">Support par email</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_1" value="Base connaissance" id="q5_1_6"><label for="q5_1_6">Base de connaissances / Tutoriels</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(19)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(20, 21)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-21">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 5 : Crit√®res techniques</div><h2 class="question-title">Autres crit√®res importants</h2></div>
                <div class="checkbox-group">
                    <label class="checkbox-option"><input type="checkbox" name="q5_2" value="App mobile" id="q5_2_1"><label for="q5_2_1">Application mobile indispensable</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_2" value="H√©bergement France" id="q5_2_2"><label for="q5_2_2">Donn√©es h√©berg√©es en France obligatoire</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_2" value="Formation incluse" id="q5_2_3"><label for="q5_2_3">Formation incluse souhait√©e</label><span class="checkbox-custom"></span></label>
                    <label class="checkbox-option"><input type="checkbox" name="q5_2" value="Accompagnement migration" id="q5_2_4"><label for="q5_2_4">Accompagnement √† la migration n√©cessaire</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(20)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(21, 22)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-22">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 5 : Crit√®res techniques</div><h2 class="question-title">Avez-vous besoin de r√©cup√©rer un historique ?</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q5_3" value="Oui, clients" id="q5_3_1" onchange="toggleHistoriqueDetails()"><label for="q5_3_1">Oui, historique clients</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_3" value="Oui, factures" id="q5_3_2" onchange="toggleHistoriqueDetails()"><label for="q5_3_2">Oui, anciennes factures</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_3" value="Oui, complet" id="q5_3_3" onchange="toggleHistoriqueDetails()"><label for="q5_3_3">Oui, historique complet</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_3" value="Non" id="q5_3_4" onchange="toggleHistoriqueDetails()"><label for="q5_3_4">Non, d√©marrage sans historique</label><span class="radio-custom"></span></div>
                </div>
                <div id="historique_details" style="display: none; margin-top: 30px;">
                    <h3 style="font-size: 1.2em; margin-bottom: 15px; color: #495057;">Pr√©cisions sur l'historique</h3>
                    <div class="form-group"><label class="field-label">P√©riode √† r√©cup√©rer</label><input type="text" name="q5_3_periode" id="q5_3_periode" placeholder="Ex: 2 derni√®res ann√©es"></div>
                    <div class="form-group"><label class="field-label">Volume estim√©</label><input type="text" name="q5_3_volume" id="q5_3_volume" placeholder="Ex: 500 clients, 2000 factures"></div>
                </div>
                <div class="error-message" id="error-22"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(21)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(22, 23)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-23">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 5 : Crit√®res techniques</div><h2 class="question-title">Dans quel d√©lai souhaitez-vous √™tre op√©rationnel ?</h2></div>
                <div class="radio-group">
                    <div class="radio-option"><input type="radio" name="q5_4" value="Urgent - Avant fin 2025" id="q5_4_1"><label for="q5_4_1">Urgent - Avant fin d√©cembre 2025</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_4" value="D'ici mars 2026" id="q5_4_2"><label for="q5_4_2">D'ici mars 2026 (3 mois)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_4" value="Avant sept 2026" id="q5_4_3"><label for="q5_4_3">Avant septembre 2026 (√©ch√©ance l√©gale)</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_4" value="Apr√®s sept 2026" id="q5_4_4"><label for="q5_4_4">Apr√®s septembre 2026</label><span class="radio-custom"></span></div>
                    <div class="radio-option"><input type="radio" name="q5_4" value="Veille uniquement" id="q5_4_5"><label for="q5_4_5">Simple veille / information pour le moment</label><span class="radio-custom"></span></div>
                </div>
                <div class="error-message" id="error-23"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(22)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(23, 24)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-24">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 6 : Vos coordonn√©es</div><h2 class="question-title">Pour recevoir vos recommandations personnalis√©es</h2></div>
                <div class="form-row">
                    <div class="form-group"><label class="field-label" for="prenom">Pr√©nom <span class="required">*</span></label><input type="text" name="prenom" id="prenom" required></div>
                    <div class="form-group"><label class="field-label" for="nom">Nom <span class="required">*</span></label><input type="text" name="nom" id="nom" required></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label class="field-label" for="fonction">Fonction</label><input type="text" name="fonction" id="fonction"></div>
                    <div class="form-group"><label class="field-label" for="entreprise">Entreprise</label><input type="text" name="entreprise" id="entreprise"></div>
                </div>
                <div class="form-group"><label class="field-label" for="email">Email <span class="required">*</span></label><input type="email" name="email" id="email" required></div>
                <div class="form-group"><label class="field-label" for="telephone">T√©l√©phone</label><input type="tel" name="telephone" id="telephone"></div>
                <div class="form-group" style="margin-top: 20px;">
                    <label class="checkbox-option"><input type="checkbox" name="accepte_contact" value="oui" id="accepte_contact"><label for="accepte_contact">J'accepte d'√™tre contact√© pour un accompagnement personnalis√©</label><span class="checkbox-custom"></span></label>
                </div>
                <div class="error-message" id="error-24"></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(23)">Retour</button><button class="btn btn-primary" onclick="validateAndNext(24, 25)">Suivant</button></div>
            </div>
        </div>

        <div class="screen" id="screen-25">
            <div class="question-screen">
                <div class="question-header"><div class="section-title">Section 6 : Vos coordonn√©es</div><h2 class="question-title">Commentaires ou besoins sp√©cifiques ?</h2><p class="question-description">Optionnel</p></div>
                <div class="form-group"><textarea name="commentaires" id="commentaires" rows="6" placeholder="Y a-t-il des besoins sp√©cifiques que nous devrions conna√Ætre ?"></textarea></div>
                <div class="button-group"><button class="btn btn-outline" onclick="goToScreen(24)">Retour</button><button class="btn btn-primary" onclick="submitForm()">Envoyer mes r√©ponses</button></div>
            </div>
        </div>

        <div class="screen" id="screen-26">
            <div class="confirmation-screen">
                <div class="success-icon">‚úì</div>
                <h2>Merci <span id="confirm_prenom"></span> !</h2>
                <p class="email-sent">‚úÖ Votre questionnaire a bien √©t√© envoy√©</p>
                <p style="color: #6c757d; margin-bottom: 30px;">Vous recevrez vos recommandations personnalis√©es √† l'adresse : <strong id="confirm_email"></strong></p>
                <div class="contact-box">
                    <h3>üìû Besoin d'√©changer rapidement ?</h3>
                    <a href="https://tidycal.com/lra-conseil/1er-echange" target="_blank" class="btn btn-primary" style="margin: 20px auto; display: inline-block;">Prendre rendez-vous</a>
                    <div class="contact-info">
                        <div class="contact-item">üìß <strong>lucie@lra-conseil.com</strong></div>
                        <div class="contact-item">üì± <strong>(+262) 06.93.39.11.75</strong></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-content"><div class="spinner"></div><p>Envoi de vos r√©ponses en cours...</p></div>
        </div>
    </div>

    <script>
        // === CONFIGURATION ===
        const EMAIL_DESTINATION = 'lucie@lra-conseil.com';
        const formData = {};

        // === NAVIGATION ===
        function goToScreen(screenNumber) {
            document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
            document.getElementById(`screen-${screenNumber}`).classList.add('active');
            
            if (screenNumber > 0 && screenNumber < 26) {
                document.getElementById('progressBar').style.display = 'block';
                document.getElementById('progressText').style.display = 'block';
                updateProgressBar(screenNumber);
            } else {
                document.getElementById('progressBar').style.display = 'none';
                document.getElementById('progressText').style.display = 'none';
            }
            window.scrollTo(0, 0);
            localStorage.setItem('questionnaire_current_screen', screenNumber);
        }

        function updateProgressBar(screenNumber) {
            const progress = ((screenNumber - 1) / 24) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Section ${getSectionNumber(screenNumber)} sur 6`;
        }

        function getSectionNumber(screenNumber) {
            if (screenNumber >= 1 && screenNumber <= 6) return 1;
            if (screenNumber >= 7 && screenNumber <= 11) return 2;
            if (screenNumber >= 12 && screenNumber <= 14) return 3;
            if (screenNumber >= 15 && screenNumber <= 19) return 4;
            if (screenNumber >= 20 && screenNumber <= 23) return 5;
            if (screenNumber >= 24 && screenNumber <= 25) return 6;
            return 1;
        }

        // === VALIDATION ===
        function validateAndNext(currentScreen, nextScreen) {
            const errorElement = document.getElementById(`error-${currentScreen}`);
            let isValid = true;
            let errorMessage = '';

            // Validation simple par √©cran
            if (currentScreen === 1 && !document.querySelector('input[name="q1_1"]:checked')) { isValid = false; errorMessage = 'Veuillez s√©lectionner une taille'; }
            else if (currentScreen === 2 && !document.getElementById('q1_2').value) { isValid = false; errorMessage = 'Veuillez s√©lectionner un secteur'; }
            else if (currentScreen === 3 && !document.querySelector('input[name="q1_3"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez au moins une option'; }
            else if (currentScreen === 4 && !document.querySelector('input[name="q1_4"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez une option'; }
            else if (currentScreen === 5) {
                const total = parseInt(document.getElementById('q1_5_france').value) + parseInt(document.getElementById('q1_5_ue').value) + parseInt(document.getElementById('q1_5_hors_ue').value);
                if (total !== 100) { isValid = false; errorMessage = 'Le total doit √™tre √©gal √† 100%'; }
            }
            else if (currentScreen === 6 && !document.querySelector('input[name="q1_6"]:checked')) { isValid = false; errorMessage = 'Veuillez r√©pondre'; }
            else if (currentScreen === 8 && !document.querySelector('input[name="q2_2"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez au moins une m√©thode'; }
            else if (currentScreen === 9 && !document.querySelector('input[name="q2_3"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez une option'; }
            else if (currentScreen === 11 && !document.querySelector('input[name="q2_5"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez au moins un format'; }
            else if (currentScreen === 14 && !document.querySelector('input[name="q3_3"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez un mod√®le'; }
            else if (currentScreen === 18 && !document.querySelector('input[name="q4_4"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez une option'; }
            else if (currentScreen === 22 && !document.querySelector('input[name="q5_3"]:checked')) { isValid = false; errorMessage = 'Veuillez r√©pondre'; }
            else if (currentScreen === 23 && !document.querySelector('input[name="q5_4"]:checked')) { isValid = false; errorMessage = 'S√©lectionnez un d√©lai'; }
            else if (currentScreen === 24) {
                const prenom = document.getElementById('prenom').value.trim();
                const nom = document.getElementById('nom').value.trim();
                const email = document.getElementById('email').value.trim();
                if (!prenom || !nom || !email) { isValid = false; errorMessage = 'Remplissez les champs obligatoires'; }
                else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { isValid = false; errorMessage = 'Email invalide'; }
            }

            if (!isValid) {
                if (errorElement) { errorElement.textContent = errorMessage; errorElement.classList.add('show'); }
                return;
            }
            if (errorElement) errorElement.classList.remove('show');

            saveScreenData(currentScreen);
            goToScreen(nextScreen);
        }

        // === SAVE DATA ===
        function saveScreenData(screenNumber) {
            if (screenNumber === 1) formData.taille = document.querySelector('input[name="q1_1"]:checked')?.value;
            if (screenNumber === 2) formData.secteur = document.getElementById('q1_2').value;
            if (screenNumber === 3) formData.typeClients = getCheckedValues('q1_3');
            if (screenNumber === 4) formData.naturePrestations = document.querySelector('input[name="q1_4"]:checked')?.value;
            if (screenNumber === 5) {
                formData.domiciliationFrance = document.getElementById('q1_5_france').value + '%';
                formData.domiciliationUE = document.getElementById('q1_5_ue').value + '%';
                formData.domiciliationHorsUE = document.getElementById('q1_5_hors_ue').value + '%';
            }
            if (screenNumber === 6) {
                formData.expertComptable = document.querySelector('input[name="q1_6"]:checked')?.value;
                formData.logicielExpertComptable = document.getElementById('q1_6b').value;
                formData.hebergementLogiciel = document.querySelector('input[name="q1_6c"]:checked')?.value;
            }
            if (screenNumber === 7) formData.facturesEmises = getSliderLabel('q2_1');
            if (screenNumber === 8) {
                formData.creationFactures = getCheckedValues('q2_2');
                formData.outilFacturation = document.getElementById('q2_2b').value;
            }
            if (screenNumber === 9) formData.modeEmission = getCheckedValues('q2_3');
            if (screenNumber === 10) formData.facturesRecues = getSliderLabel('q2_4');
            if (screenNumber === 11) formData.formatFacturesRecues = getCheckedValues('q2_5');
            if (screenNumber === 12) formData.priorites = getPriorities();
            if (screenNumber === 13) formData.budget = getBudgetLabel();
            if (screenNumber === 14) formData.modeleTarifaire = document.querySelector('input[name="q3_3"]:checked')?.value;
            if (screenNumber === 15) formData.besoinsEmission = getCheckedValues('q4_1');
            if (screenNumber === 16) formData.besoinsReception = getCheckedValues('q4_2');
            if (screenNumber === 17) formData.tresorerie = getCheckedValues('q4_3');
            if (screenNumber === 18) formData.reporting = document.querySelector('input[name="q4_4"]:checked')?.value;
            if (screenNumber === 19) formData.integrations = getCheckedValues('q4_5');
            if (screenNumber === 20) formData.support = getCheckedValues('q5_1');
            if (screenNumber === 21) formData.criteresTechniques = getCheckedValues('q5_2');
            if (screenNumber === 22) {
                formData.historique = document.querySelector('input[name="q5_3"]:checked')?.value;
                formData.historiquePeriode = document.getElementById('q5_3_periode').value;
                formData.historiqueVolume = document.getElementById('q5_3_volume').value;
            }
            if (screenNumber === 23) formData.delai = document.querySelector('input[name="q5_4"]:checked')?.value;
            if (screenNumber === 24) {
                formData.prenom = document.getElementById('prenom').value;
                formData.nom = document.getElementById('nom').value;
                formData.fonction = document.getElementById('fonction').value;
                formData.entreprise = document.getElementById('entreprise').value;
                formData.email = document.getElementById('email').value;
                formData.telephone = document.getElementById('telephone').value;
                formData.accepteContact = document.getElementById('accepte_contact').checked ? 'Oui' : 'Non';
            }
            if (screenNumber === 25) formData.commentaires = document.getElementById('commentaires').value;

            localStorage.setItem('questionnaire_data', JSON.stringify(formData));
        }

        // === UTILS ===
        function getCheckedValues(name) { return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(el => el.value); }
        function getSliderLabel(id) { const labels = ['0-10', '11-50', '51-250', '251-1000', '1000-5000', '5000+']; return labels[document.getElementById(id).value] || labels[0]; }
        function getBudgetLabel() { const labels = ['0-20‚Ç¨', '20-100‚Ç¨', '100-300‚Ç¨', '300-1000‚Ç¨', '1000‚Ç¨+']; return labels[document.getElementById('q3_2').value] || labels[2]; }
        function getPriorities() { return Array.from(document.querySelectorAll('.drag-item')).map(item => item.dataset.value); }

        // === INTERACTION HELPERS ===
        function updateSliderValue(id) {
            const labels = ['0-10', '11-50', '51-250', '251-1000', '1000-5000', '5000+'];
            document.getElementById(`${id}_value`).textContent = `${labels[document.getElementById(id).value]} factures/mois`;
        }
        function updateBudgetValue() {
            const labels = ['0-20‚Ç¨/mois', '20-100‚Ç¨/mois', '100-300‚Ç¨/mois', '300-1000‚Ç¨/mois', '1000‚Ç¨+/mois'];
            document.getElementById('q3_2_value').textContent = labels[document.getElementById('q3_2').value];
        }
        function updateDomiciliation() {
            const total = parseInt(document.getElementById('q1_5_france').value) + parseInt(document.getElementById('q1_5_ue').value) + parseInt(document.getElementById('q1_5_hors_ue').value);
            document.getElementById('france_value').textContent = document.getElementById('q1_5_france').value;
            document.getElementById('ue_value').textContent = document.getElementById('q1_5_ue').value;
            document.getElementById('hors_ue_value').textContent = document.getElementById('q1_5_hors_ue').value;
            document.getElementById('total_value').textContent = total;
            document.getElementById('total_domiciliation').style.color = (total === 100) ? '#28a745' : '#dc3545';
        }
        function toggleExpertComptable() {
            const val = document.querySelector('input[name="q1_6"]:checked')?.value;
            document.getElementById('q1_6b_container').style.display = (val && val !== 'Non') ? 'block' : 'none';
            document.getElementById('q1_6c_container').style.display = (val === 'Oui, en interne') ? 'block' : 'none';
        }
        function toggleLogicielField() {
             const hasLogiciel = document.getElementById('q2_2_2').checked || document.getElementById('q2_2_3').checked || document.getElementById('q2_2_4').checked;
             document.getElementById('q2_2b_container').style.display = hasLogiciel ? 'block' : 'none';
        }
        function toggleHistoriqueDetails() {
            const val = document.querySelector('input[name="q5_3"]:checked')?.value;
            document.getElementById('historique_details').style.display = (val && val !== 'Non') ? 'block' : 'none';
        }

        // === DRAG & DROP ===
        let draggedElement = null;
        function initDragAndDrop() {
            document.querySelectorAll('.drag-item').forEach(item => {
                item.addEventListener('dragstart', function(e) { draggedElement = this; this.classList.add('dragging'); e.dataTransfer.effectAllowed = 'move'; });
                item.addEventListener('dragend', function(e) { this.classList.remove('dragging'); updateDragNumbers(); });
                item.addEventListener('dragover', function(e) { e.preventDefault(); e.dataTransfer.dropEffect = 'move'; return false; });
                item.addEventListener('drop', function(e) {
                    e.stopPropagation();
                    if (draggedElement !== this) {
                        const list = document.getElementById('dragList');
                        const all = [...list.children];
                        if (all.indexOf(draggedElement) < all.indexOf(this)) list.insertBefore(draggedElement, this.nextSibling);
                        else list.insertBefore(draggedElement, this);
                    }
                    return false;
                });
            });
        }
        function updateDragNumbers() { document.querySelectorAll('.drag-item').forEach((item, i) => item.querySelector('.drag-number').textContent = i + 1); }

        // === SOUMISSION FINALE (FormSubmit) ===
        function submitForm() {
            saveScreenData(25);
            document.getElementById('loadingOverlay').classList.add('show');

            // Pr√©paration des donn√©es pour FormSubmit
            const dataToSend = {
                _subject: "Nouveau prospect - Questionnaire LRA",
                _template: "table",
                _captcha: "false",
                ...formData
            };

            fetch("https://formsubmit.co/ajax/" + EMAIL_DESTINATION, {
                method: "POST",
                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify(dataToSend)
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('loadingOverlay').classList.remove('show');
                document.getElementById('confirm_prenom').textContent = formData.prenom;
                document.getElementById('confirm_email').textContent = formData.email;
                goToScreen(26);
                localStorage.removeItem('questionnaire_data');
                localStorage.removeItem('questionnaire_current_screen');
            })
            .catch(error => {
                document.getElementById('loadingOverlay').classList.remove('show');
                alert("Une erreur est survenue lors de l'envoi. Merci de nous contacter directement par t√©l√©phone.");
                console.error('Erreur:', error);
            });
        }

        // === INIT ===
        document.addEventListener('DOMContentLoaded', function() {
            initDragAndDrop();
            const savedData = localStorage.getItem('questionnaire_data');
            if (savedData && localStorage.getItem('questionnaire_current_screen')) {
                if (confirm('Voulez-vous reprendre l√† o√π vous en √©tiez ?')) Object.assign(formData, JSON.parse(savedData));
            }
            updateSliderValue('q2_1'); updateSliderValue('q2_4'); updateBudgetValue(); updateDomiciliation();
        });
    </script>
</body>
</html>